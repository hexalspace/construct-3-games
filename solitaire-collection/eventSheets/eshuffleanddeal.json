{
	"name": "eShuffleAndDeal",
	"events": [
		{
			"functionName": "Shuffle",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "load",
					"objectClass": "CardDeck",
					"sid": 809377016623710,
					"parameters": {
						"json": "\"{\"\"c2array\"\":true,\"\"size\"\":[65,3,1],\"\"data\"\":[[[0],[1],[\"\"A\"\"]],[[1],[2],[\"\"A\"\"]],[[2],[3],[\"\"A\"\"]],[[3],[4],[\"\"A\"\"]],[[4],[5],[\"\"A\"\"]],[[5],[6],[\"\"A\"\"]],[[6],[7],[\"\"A\"\"]],[[7],[8],[\"\"A\"\"]],[[8],[9],[\"\"A\"\"]],[[9],[10],[\"\"A\"\"]],[[10],[11],[\"\"A\"\"]],[[11],[12],[\"\"A\"\"]],[[12],[13],[\"\"A\"\"]],[[13],[1],[\"\"B\"\"]],[[14],[2],[\"\"B\"\"]],[[15],[3],[\"\"B\"\"]],[[16],[4],[\"\"B\"\"]],[[17],[5],[\"\"B\"\"]],[[18],[6],[\"\"B\"\"]],[[19],[7],[\"\"B\"\"]],[[20],[8],[\"\"B\"\"]],[[21],[9],[\"\"B\"\"]],[[22],[10],[\"\"B\"\"]],[[23],[11],[\"\"B\"\"]],[[24],[12],[\"\"B\"\"]],[[25],[13],[\"\"B\"\"]],[[26],[1],[\"\"C\"\"]],[[27],[2],[\"\"C\"\"]],[[28],[3],[\"\"C\"\"]],[[29],[4],[\"\"C\"\"]],[[30],[5],[\"\"C\"\"]],[[31],[6],[\"\"C\"\"]],[[32],[7],[\"\"C\"\"]],[[33],[8],[\"\"C\"\"]],[[34],[9],[\"\"C\"\"]],[[35],[10],[\"\"C\"\"]],[[36],[11],[\"\"C\"\"]],[[37],[12],[\"\"C\"\"]],[[38],[13],[\"\"C\"\"]],[[39],[1],[\"\"D\"\"]],[[40],[2],[\"\"D\"\"]],[[41],[3],[\"\"D\"\"]],[[42],[4],[\"\"D\"\"]],[[43],[5],[\"\"D\"\"]],[[44],[6],[\"\"D\"\"]],[[45],[7],[\"\"D\"\"]],[[46],[8],[\"\"D\"\"]],[[47],[9],[\"\"D\"\"]],[[48],[10],[\"\"D\"\"]],[[49],[11],[\"\"D\"\"]],[[50],[12],[\"\"D\"\"]],[[51],[13],[\"\"D\"\"]],[[52],[1],[\"\"E\"\"]],[[53],[2],[\"\"E\"\"]],[[54],[3],[\"\"E\"\"]],[[55],[4],[\"\"E\"\"]],[[56],[5],[\"\"E\"\"]],[[57],[6],[\"\"E\"\"]],[[58],[7],[\"\"E\"\"]],[[59],[8],[\"\"E\"\"]],[[60],[9],[\"\"E\"\"]],[[61],[10],[\"\"E\"\"]],[[62],[11],[\"\"E\"\"]],[[63],[12],[\"\"E\"\"]],[[64],[13],[\"\"E\"\"]]]}\""
					}
				},
				{
					"id": "set-size",
					"objectClass": "StockArray",
					"sid": 199682062344884,
					"parameters": {
						"width": "0",
						"height": "1",
						"depth": "1"
					}
				}
			],
			"sid": 418982505402235,
			"children": [
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-size",
							"objectClass": "CardDeck",
							"sid": 669344267922326,
							"parameters": {
								"width": "NUMBER_OF_SUITS * 13",
								"height": "3",
								"depth": "1"
							}
						},
						{
							"id": "set-size",
							"objectClass": "StockArray",
							"sid": 318639167189546,
							"parameters": {
								"width": "NUMBER_OF_SUITS * 13",
								"height": "3",
								"depth": "1"
							}
						}
					],
					"sid": 688087495302226
				},
				{
					"eventType": "variable",
					"name": "PickIndex",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 477333196590009
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each-element",
							"objectClass": "StockArray",
							"sid": 764305332122332,
							"parameters": {
								"axes": "x"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 518005006420961,
							"parameters": {
								"variable": "PickIndex",
								"value": "floor(random(CardDeck.Width))"
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 568099026646611,
							"parameters": {
								"object-to-create": "Card",
								"layer": "\"Cards\"",
								"x": "Stock.X",
								"y": "Stock.Y"
							}
						},
						{
							"id": "set-enabled",
							"objectClass": "Card",
							"sid": 909500877994068,
							"behaviorType": "DragDrop",
							"parameters": {
								"state": "disabled"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "Card",
							"sid": 640302972546219,
							"parameters": {
								"animation": "DECK_ART & \"Backs\"",
								"from": "current-frame"
							}
						},
						{
							"id": "set-scale",
							"objectClass": "Card",
							"sid": 441795426471712,
							"parameters": {
								"scale": "CARD_SCALE"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Card",
							"sid": 467324689418361,
							"parameters": {
								"instance-variable": "Frame",
								"value": "CardDeck.At(PickIndex, 0)"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Card",
							"sid": 915858340613894,
							"parameters": {
								"instance-variable": "Value",
								"value": "CardDeck.At(PickIndex, 1)"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Card",
							"sid": 827299605854367,
							"parameters": {
								"instance-variable": "Suit",
								"value": "CardDeck.At(PickIndex, 2)"
							}
						},
						{
							"id": "delete",
							"objectClass": "CardDeck",
							"sid": 555361189291476,
							"parameters": {
								"index": "PickIndex",
								"axis": "x"
							}
						}
					],
					"sid": 423669685618714
				}
			]
		},
		{
			"functionName": "DealCardToDiscard",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "is-overlapping-another-object",
					"objectClass": "Card",
					"sid": 434993104629415,
					"parameters": {
						"object": "Stock"
					}
				},
				{
					"id": "pick-topbottom",
					"objectClass": "Card",
					"sid": 853804522264027,
					"parameters": {
						"which": "top"
					}
				}
			],
			"actions": [
				{
					"id": "set-animation",
					"objectClass": "Card",
					"sid": 856851757932792,
					"parameters": {
						"animation": "DECK_ART",
						"from": "current-frame"
					}
				},
				{
					"id": "set-animation-frame",
					"objectClass": "Card",
					"sid": 792625761629461,
					"parameters": {
						"frame-number": "Card.Frame"
					}
				},
				{
					"id": "set-position",
					"objectClass": "Card",
					"sid": 409630178330453,
					"parameters": {
						"x": "Discard.X",
						"y": "Discard.Y"
					}
				},
				{
					"id": "set-enabled",
					"objectClass": "Card",
					"sid": 450109579107283,
					"behaviorType": "DragDrop",
					"parameters": {
						"state": "enabled"
					}
				},
				{
					"id": "move-to-top",
					"objectClass": "Card",
					"sid": 692685589789792
				},
				{
					"callFunction": "PushToUndoArray",
					"sid": 933425543001375,
					"parameters": [
						"Card.UID",
						"\"Discard\"",
						"Discard.UID"
					]
				}
			],
			"sid": 537514671959593,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-size",
							"objectClass": "StockArray",
							"sid": 151694585922288,
							"parameters": {
								"axis": "x",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Stock",
							"sid": 804094873405586,
							"disabled": true
						}
					],
					"sid": 511033908678846
				}
			]
		},
		{
			"functionName": "DealCardToTableau",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "TableauColumn",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 769644695910705
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "log",
					"objectClass": "Browser",
					"sid": 480781280041826,
					"parameters": {
						"type": "log",
						"message": "Card.Count"
					}
				}
			],
			"sid": 603546359354584,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Tableau",
							"sid": 541386910947785,
							"parameters": {
								"instance-variable": "Column",
								"comparison": 0,
								"value": "TableauColumn"
							}
						},
						{
							"id": "is-overlapping-another-object",
							"objectClass": "Card",
							"sid": 278757840949596,
							"parameters": {
								"object": "Stock"
							}
						},
						{
							"id": "pick-topbottom",
							"objectClass": "Card",
							"sid": 975574935683778,
							"parameters": {
								"which": "top"
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "Card",
							"sid": 622309229480773,
							"parameters": {
								"animation": "DECK_ART",
								"from": "current-frame"
							}
						},
						{
							"id": "set-animation-frame",
							"objectClass": "Card",
							"sid": 638171118826066,
							"parameters": {
								"frame-number": "Card.Frame"
							}
						},
						{
							"id": "set-position",
							"objectClass": "Card",
							"sid": 787459463619787,
							"parameters": {
								"x": "Tableau.X",
								"y": "Tableau.Y + Tableau.NumberOfCards * CARD_OFFSET"
							}
						},
						{
							"id": "move-to-top",
							"objectClass": "Card",
							"sid": 405544520585627
						},
						{
							"id": "set-enabled",
							"objectClass": "Card",
							"sid": 729077089623044,
							"behaviorType": "DragDrop",
							"parameters": {
								"state": "enabled"
							}
						},
						{
							"id": "add-to-instvar",
							"objectClass": "Tableau",
							"sid": 300726161700764,
							"parameters": {
								"instance-variable": "NumberOfCards",
								"value": "1"
							}
						},
						{
							"id": "set-size",
							"objectClass": "Tableau",
							"sid": 178464803842184,
							"parameters": {
								"width": "Card.Width",
								"height": "Card.Height + CARD_OFFSET * (Tableau.NumberOfCards - 1)"
							}
						}
					],
					"sid": 981129494906486
				}
			]
		},
		{
			"functionName": "InitialDeal",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "wait-for-previous-actions",
					"objectClass": "System",
					"sid": 611318353319026
				}
			],
			"sid": 427994113942622,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each-element",
							"objectClass": "InitialDeal",
							"sid": 231982619345081,
							"parameters": {
								"axes": "x"
							}
						}
					],
					"actions": [
						{
							"callFunction": "DealCardToTableau",
							"sid": 676562271025261,
							"parameters": [
								"InitialDeal.At(0)"
							]
						},
						{
							"id": "delete",
							"objectClass": "InitialDeal",
							"sid": 649312593890791,
							"parameters": {
								"index": "0",
								"axis": "x"
							}
						}
					],
					"sid": 239010652623682
				}
			]
		}
	],
	"sid": 533729986536694
}