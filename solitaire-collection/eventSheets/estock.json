{
	"name": "eStock",
	"events": [
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-any-touch-end",
					"objectClass": "Touch",
					"sid": 355084566995266
				},
				{
					"id": "is-touching-object",
					"objectClass": "Touch",
					"sid": 403253765398279,
					"parameters": {
						"object": "Stock"
					}
				}
			],
			"actions": [],
			"sid": 438946730386144,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "Stock",
							"sid": 256458562281913,
							"parameters": {
								"object": "Card"
							}
						},
						{
							"id": "is-on-screen",
							"objectClass": "Discard",
							"sid": 694506896266215
						}
					],
					"actions": [],
					"sid": 366083653330175,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 535029409472681,
									"parameters": {
										"variable": "STOCK_FLIPS_NUMBER_OF_CARDS",
										"comparison": 0,
										"value": "1"
									}
								}
							],
							"actions": [
								{
									"callFunction": "DealCardToDiscard",
									"sid": 228306903488584
								}
							],
							"sid": 870615767882428
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [],
							"sid": 394938311357758
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 847607822333744
						}
					],
					"actions": [],
					"sid": 111684027098071,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-on-screen",
									"objectClass": "Discard",
									"sid": 905379274898026
								}
							],
							"actions": [],
							"sid": 356261468894404,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "Card",
											"sid": 212331809660651,
											"parameters": {
												"object": "Discard"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "Stock",
											"sid": 902970603447271,
											"parameters": {
												"instance-variable": "FlipsRemaining",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "subtract-from-instvar",
											"objectClass": "Stock",
											"sid": 444710577674386,
											"parameters": {
												"instance-variable": "FlipsRemaining",
												"value": "1"
											}
										},
										{
											"callFunction": "PushToUndoArray",
											"sid": 985649989024875,
											"parameters": [
												"-1",
												"\"StockFlip\"",
												"Stock.UID",
												"0"
											]
										}
									],
									"sid": 337731604086129,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "Stock",
													"sid": 553672848789910,
													"parameters": {
														"instance-variable": "FlipsRemaining",
														"comparison": 0,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "set-opacity",
													"objectClass": "Stock",
													"sid": 617135194516926,
													"parameters": {
														"opacity": "0"
													}
												}
											],
											"sid": 972756559178636
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each-ordered",
													"objectClass": "System",
													"sid": 152942734739420,
													"parameters": {
														"object": "Card",
														"expression": "Card.ZIndex",
														"order": "descending"
													}
												}
											],
											"actions": [
												{
													"callFunction": "MoveCardToStock",
													"sid": 271473730078400,
													"parameters": [
														"Card.UID"
													]
												}
											],
											"sid": 217346237501122
										}
									]
								}
							]
						}
					]
				}
			]
		},
		{
			"functionName": "MoveCardFromStock",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "CardUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 977523513444002
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "Card",
					"sid": 605052123632981,
					"parameters": {
						"unique-id": "CardUID"
					}
				}
			],
			"actions": [
				{
					"id": "set-instvar-value",
					"objectClass": "Card",
					"sid": 665911734997071,
					"parameters": {
						"instance-variable": "StockUID",
						"value": "-1"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Card",
					"sid": 905736096162297,
					"parameters": {
						"instance-variable": "IndexInStock",
						"value": "-1"
					}
				},
				{
					"id": "subtract-from-instvar",
					"objectClass": "Stock",
					"sid": 605840561122552,
					"parameters": {
						"instance-variable": "NumberOfCards",
						"value": "1"
					}
				}
			],
			"sid": 133514120990019
		},
		{
			"functionName": "MoveCardToStock",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "CardUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 112693512806239
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "Card",
					"sid": 771301704638962,
					"parameters": {
						"unique-id": "CardUID"
					}
				}
			],
			"actions": [
				{
					"id": "move-to-top",
					"objectClass": "Card",
					"sid": 815526662856295
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Card",
					"sid": 413420078969052,
					"parameters": {
						"instance-variable": "StockUID",
						"value": "Stock.UID"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Card",
					"sid": 618977732540400,
					"parameters": {
						"instance-variable": "IndexInStock",
						"value": "Stock.NumberOfCards"
					}
				},
				{
					"id": "add-to-instvar",
					"objectClass": "Stock",
					"sid": 959990910391235,
					"parameters": {
						"instance-variable": "NumberOfCards",
						"value": "1"
					}
				},
				{
					"id": "set-boolean-instvar",
					"objectClass": "Card",
					"sid": 207229966586085,
					"parameters": {
						"instance-variable": "IsMovable",
						"value": "false"
					}
				},
				{
					"id": "set-enabled",
					"objectClass": "Card",
					"sid": 580494562364310,
					"behaviorType": "DragDrop",
					"parameters": {
						"state": "disabled"
					}
				},
				{
					"id": "tween-two-properties",
					"objectClass": "Card",
					"sid": 645374588090586,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"\"",
						"property": "position",
						"end-x": "Stock.X",
						"end-y": "Stock.Y",
						"time": "STOCK_FLIP_TWEEN_TIME",
						"ease": "default",
						"destroy-on-complete": "no",
						"loop": "no",
						"ping-pong": "no"
					}
				},
				{
					"id": "tween-one-property",
					"objectClass": "Card",
					"sid": 687024194900809,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"FlipCardTweenWidth\"",
						"property": "offsetWidth",
						"end-value": "0",
						"time": "STOCK_FLIP_TWEEN_TIME / 2",
						"ease": "default",
						"destroy-on-complete": "no",
						"loop": "no",
						"ping-pong": "yes"
					}
				},
				{
					"id": "wait",
					"objectClass": "System",
					"sid": 368661395184568,
					"parameters": {
						"seconds": "STOCK_FLIP_TWEEN_TIME / 2"
					}
				},
				{
					"id": "set-animation",
					"objectClass": "Card",
					"sid": 604401882740452,
					"parameters": {
						"animation": "DECK_ART & \"Backs\"",
						"from": "beginning"
					}
				}
			],
			"sid": 749719536741943
		}
	],
	"sid": 457750011881145
}