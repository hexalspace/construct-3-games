{
	"name": "eFoundations",
	"events": [
		{
			"functionName": "CanCardMoveToFoundation",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "number",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "CardUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 926250570303236
				},
				{
					"name": "FoundationUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 658614479974601
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "Card",
					"sid": 927563608106176,
					"parameters": {
						"unique-id": "CardUID"
					}
				},
				{
					"id": "pick-by-unique-id",
					"objectClass": "Foundation",
					"sid": 615910996700729,
					"parameters": {
						"unique-id": "FoundationUID"
					}
				}
			],
			"actions": [],
			"sid": 402171211414932,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-enabled",
							"objectClass": "Card",
							"sid": 272935332418965,
							"behaviorType": "DragDrop",
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-function-return-value",
							"objectClass": "Functions",
							"sid": 505739735318494,
							"parameters": {
								"value": "0"
							}
						}
					],
					"sid": 123620004196888
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 230066736584377
						}
					],
					"actions": [],
					"sid": 999973330275362,
					"children": [
						{
							"eventType": "variable",
							"name": "NextFoundationValue",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 866345022981178
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 652936025483479,
									"parameters": {
										"variable": "FOUNDATIONS_DIRECTION",
										"comparison": 0,
										"value": "\"Up\""
									}
								}
							],
							"actions": [],
							"sid": 741937009639626,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 264766000996133,
											"parameters": {
												"first-value": "Foundation.TopCardValue + FOUNDATIONS_INCREMENT_BY",
												"comparison": 4,
												"second-value": "NUMBER_OF_CARDS_PER_SUIT"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 781054575107714,
											"parameters": {
												"variable": "NextFoundationValue",
												"value": "Foundation.TopCardValue + FOUNDATIONS_INCREMENT_BY - NUMBER_OF_CARDS_PER_SUIT"
											}
										}
									],
									"sid": 324797945158718
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 759781081675087
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 764675519918513,
											"parameters": {
												"variable": "NextFoundationValue",
												"value": "Foundation.TopCardValue + FOUNDATIONS_INCREMENT_BY"
											}
										}
									],
									"sid": 566588575757237
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 549926005379899,
									"parameters": {
										"variable": "FOUNDATIONS_DIRECTION",
										"comparison": 0,
										"value": "\"Down\""
									}
								}
							],
							"actions": [],
							"sid": 657757310839764,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 200349291394358,
											"parameters": {
												"first-value": "Foundation.TopCardValue - FOUNDATIONS_INCREMENT_BY",
												"comparison": 3,
												"second-value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 848684588771009,
											"parameters": {
												"variable": "NextFoundationValue",
												"value": "Foundation.TopCardValue - FOUNDATIONS_INCREMENT_BY + NUMBER_OF_CARDS_PER_SUIT"
											}
										}
									],
									"sid": 503917273101350
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 733174842578815
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 957336662637439,
											"parameters": {
												"variable": "NextFoundationValue",
												"value": "Foundation.TopCardValue - FOUNDATIONS_INCREMENT_BY"
											}
										}
									],
									"sid": 459534802463948
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 398712587666962,
									"parameters": {
										"variable": "FOUNDATIONS_START_WITH",
										"comparison": 0,
										"value": "Foundation.TopCardValue"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "Foundation",
									"sid": 834916218198042,
									"parameters": {
										"instance-variable": "Suit",
										"comparison": 0,
										"value": "\"\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "Card",
									"sid": 575645085545906,
									"parameters": {
										"instance-variable": "Value",
										"comparison": 0,
										"value": "Foundation.TopCardValue + 1"
									}
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 177091736440970,
									"parameters": {
										"value": "1"
									}
								}
							],
							"sid": 953669107301425
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 480840915981643
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 188196060300331,
									"parameters": {
										"variable": "FOUNDATIONS_DIRECTION",
										"comparison": 0,
										"value": "\"Up\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "Card",
									"sid": 313320547259079,
									"parameters": {
										"instance-variable": "Value",
										"comparison": 0,
										"value": "NextFoundationValue"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "Card",
									"sid": 134460420414024,
									"parameters": {
										"instance-variable": "Suit",
										"comparison": 0,
										"value": "Foundation.Suit"
									}
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 259588872732724,
									"parameters": {
										"value": "1"
									}
								}
							],
							"sid": 407527625091516,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 930193799993737,
											"parameters": {
												"variable": "FOUNDATIONS_SUIT_MATCH"
											}
										}
									],
									"actions": [],
									"sid": 869607356225648,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "Card",
													"sid": 141816138170287,
													"parameters": {
														"instance-variable": "Suit",
														"comparison": 0,
														"value": "Foundation.Suit"
													}
												}
											],
											"actions": [
												{
													"id": "set-function-return-value",
													"objectClass": "Functions",
													"sid": 707614763240087,
													"parameters": {
														"value": "1"
													}
												}
											],
											"sid": 867412408385858
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 851764986701327
												}
											],
											"actions": [
												{
													"id": "set-function-return-value",
													"objectClass": "Functions",
													"sid": 937955204736907,
													"parameters": {
														"value": "0"
													}
												}
											],
											"sid": 440592559221980
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 967544343828664
										}
									],
									"actions": [
										{
											"id": "set-function-return-value",
											"objectClass": "Functions",
											"sid": 323377844691537,
											"parameters": {
												"value": "1"
											}
										}
									],
									"sid": 416976464092276
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 599065529264883
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 114445265657985,
									"parameters": {
										"variable": "FOUNDATIONS_DIRECTION",
										"comparison": 0,
										"value": "\"Down\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "Card",
									"sid": 904470575894719,
									"parameters": {
										"instance-variable": "Value",
										"comparison": 0,
										"value": "NextFoundationValue"
									}
								}
							],
							"actions": [],
							"sid": 623279503501884,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 799326407301836,
											"parameters": {
												"variable": "FOUNDATIONS_SUIT_MATCH"
											}
										}
									],
									"actions": [],
									"sid": 930754482200013,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "Card",
													"sid": 666924878027075,
													"parameters": {
														"instance-variable": "Suit",
														"comparison": 0,
														"value": "Foundation.Suit"
													}
												}
											],
											"actions": [
												{
													"id": "set-function-return-value",
													"objectClass": "Functions",
													"sid": 332208734640562,
													"parameters": {
														"value": "1"
													}
												}
											],
											"sid": 281424506835356
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 637348259343270
												}
											],
											"actions": [
												{
													"id": "set-function-return-value",
													"objectClass": "Functions",
													"sid": 862109395634925,
													"parameters": {
														"value": "0"
													}
												}
											],
											"sid": 512945570817698
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 936064224064911
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 605626668930129,
									"parameters": {
										"value": "0"
									}
								}
							],
							"sid": 353891806122182
						}
					]
				}
			]
		},
		{
			"functionName": "GetValidFoundationMoves",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "CardUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 880911543698905
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "set-boolean-instvar",
					"objectClass": "Foundation",
					"sid": 522421686132650,
					"parameters": {
						"instance-variable": "IsValidDrop",
						"value": "false"
					}
				}
			],
			"sid": 538764612262030,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 452000265807857,
							"parameters": {
								"object": "Foundation"
							}
						}
					],
					"actions": [],
					"sid": 799359255630886,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 441597211110560,
									"parameters": {
										"first-value": "Functions.CanCardMoveToFoundation(CardUID, Foundation.UID)",
										"comparison": 0,
										"second-value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Foundation",
									"sid": 670514565611980,
									"parameters": {
										"instance-variable": "IsValidDrop",
										"value": "true"
									}
								}
							],
							"sid": 132151737331829
						}
					]
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "Foundation",
					"sid": 452598441121116,
					"parameters": {
						"instance-variable": "IsValidDrop"
					}
				}
			],
			"actions": [
				{
					"id": "set-default-color",
					"objectClass": "Foundation",
					"sid": 857203567589413,
					"parameters": {
						"color": "rgbEx(0, 100, 0)"
					}
				},
				{
					"id": "set-width",
					"objectClass": "Foundation",
					"sid": 108026841584432,
					"parameters": {
						"width": "Card.Width * 1.1"
					}
				}
			],
			"sid": 883711226777491
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "else",
					"objectClass": "System",
					"sid": 500833220464364
				}
			],
			"actions": [
				{
					"id": "set-default-color",
					"objectClass": "Foundation",
					"sid": 691373849400504,
					"parameters": {
						"color": "rgbEx(100, 100, 100)"
					}
				},
				{
					"id": "set-width",
					"objectClass": "Foundation",
					"sid": 719306564873382,
					"parameters": {
						"width": "Card.Width"
					}
				}
			],
			"sid": 380266758410037
		},
		{
			"functionName": "MoveCardFromFoundation",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "CardUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 932502231418033
				},
				{
					"name": "FoundationUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 290510458740288
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "Foundation",
					"sid": 486144118042502,
					"parameters": {
						"unique-id": "FoundationUID"
					}
				}
			],
			"actions": [
				{
					"id": "subtract-from-instvar",
					"objectClass": "Foundation",
					"sid": 175687842671212,
					"parameters": {
						"instance-variable": "NumberOfCards",
						"value": "1"
					}
				}
			],
			"sid": 701823861337742,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Foundation",
							"sid": 978924732151257,
							"parameters": {
								"instance-variable": "NumberOfCards",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Foundation",
							"sid": 141396112214556,
							"parameters": {
								"instance-variable": "Suit",
								"value": "\"\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Foundation",
							"sid": 229588932444725,
							"parameters": {
								"instance-variable": "TopCardValue",
								"value": "FOUNDATIONS_START_WITH"
							}
						}
					],
					"sid": 900911660037436
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-topbottom",
							"objectClass": "Card",
							"sid": 367371887082719,
							"parameters": {
								"which": "top"
							}
						},
						{
							"id": "is-overlapping-another-object",
							"objectClass": "Card",
							"sid": 180186018013533,
							"parameters": {
								"object": "Foundation"
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "Card",
							"sid": 114390468921940,
							"parameters": {
								"unique-id": "CardUID"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Foundation",
							"sid": 882862023625180,
							"parameters": {
								"instance-variable": "TopCardValue",
								"value": "Card.Value"
							}
						}
					],
					"sid": 134235655044798
				}
			]
		},
		{
			"functionName": "MoveCardToFoundation",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "CardUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 509080959736450
				},
				{
					"name": "FoundationUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 176905381695479
				},
				{
					"name": "IsCancelingMove",
					"type": "boolean",
					"initialValue": "false",
					"comment": "",
					"sid": 810409797685783
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "Card",
					"sid": 904559446816893,
					"parameters": {
						"unique-id": "CardUID"
					}
				},
				{
					"id": "pick-by-unique-id",
					"objectClass": "Foundation",
					"sid": 579691535055557,
					"parameters": {
						"unique-id": "FoundationUID"
					}
				}
			],
			"actions": [
				{
					"id": "log",
					"objectClass": "Browser",
					"sid": 734702542818628,
					"parameters": {
						"type": "log",
						"message": "\"move to foundation\""
					}
				},
				{
					"id": "log",
					"objectClass": "Browser",
					"sid": 608387375169523,
					"parameters": {
						"type": "log",
						"message": "CardUID"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Foundation",
					"sid": 611833749290738,
					"parameters": {
						"instance-variable": "Suit",
						"value": "Card.Suit"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Foundation",
					"sid": 421015767817642,
					"parameters": {
						"instance-variable": "TopCardValue",
						"value": "Card.Value"
					}
				},
				{
					"id": "set-enabled",
					"objectClass": "Card",
					"sid": 224178985271966,
					"behaviorType": "DragDrop",
					"parameters": {
						"state": "disabled"
					}
				},
				{
					"id": "tween-two-properties",
					"objectClass": "Card",
					"sid": 681139767615806,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"\"",
						"property": "position",
						"end-x": "Foundation.X",
						"end-y": "Foundation.Y",
						"time": "0.1",
						"ease": "default",
						"destroy-on-complete": "no",
						"loop": "no",
						"ping-pong": "no"
					}
				},
				{
					"id": "wait-for-previous-actions",
					"objectClass": "System",
					"sid": 773961691291511
				},
				{
					"id": "set-enabled",
					"objectClass": "Card",
					"sid": 893362640678744,
					"behaviorType": "DragDrop",
					"parameters": {
						"state": "enabled"
					}
				}
			],
			"sid": 454272975474271,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 188963914026004,
							"parameters": {
								"variable": "IsCancelingMove"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "add-to-instvar",
							"objectClass": "Foundation",
							"sid": 386013938575525,
							"parameters": {
								"instance-variable": "NumberOfCards",
								"value": "1"
							}
						}
					],
					"sid": 312926264315000
				}
			]
		}
	],
	"sid": 973815333106618
}