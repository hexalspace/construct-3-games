{
	"name": "eUndo",
	"events": [
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-any-touch-end",
					"objectClass": "Touch",
					"sid": 774389830518389
				},
				{
					"id": "is-touching-object",
					"objectClass": "Touch",
					"sid": 975191225535123,
					"parameters": {
						"object": "UndoButton"
					}
				},
				{
					"id": "compare-opacity",
					"objectClass": "UndoButton",
					"sid": 444681680219586,
					"parameters": {
						"comparison": 0,
						"opacity": "100"
					}
				}
			],
			"actions": [],
			"sid": 572230848063015,
			"children": [
				{
					"eventType": "variable",
					"name": "FromType",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 226585203836869
				},
				{
					"eventType": "variable",
					"name": "FromUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 681657479666601
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 799526051521230,
							"parameters": {
								"variable": "FromType",
								"value": "UndoArray.At(UndoArray.Width - 1, 1)"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 805274000433575,
							"parameters": {
								"variable": "FromUID",
								"value": "UndoArray.At(UndoArray.Width - 1, 2)"
							}
						}
					],
					"sid": 639765299756614
				},
				{
					"eventType": "comment",
					"text": "returning to"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "Card",
							"sid": 512562045220471,
							"parameters": {
								"unique-id": "UndoArray.At(UndoArray.Width - 1,0)"
							}
						}
					],
					"actions": [],
					"sid": 503471165604445,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 254968507771200,
									"parameters": {
										"variable": "FromType",
										"comparison": 0,
										"value": "\"Discard\""
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "Discard",
									"sid": 529972927841591,
									"parameters": {
										"unique-id": "FromUID"
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "Card",
									"sid": 875860735810203,
									"parameters": {
										"x": "Discard.X",
										"y": "Discard.Y"
									}
								}
							],
							"sid": 322016042643682
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 114086477660463,
									"parameters": {
										"variable": "FromType",
										"comparison": 0,
										"value": "\"Foundation\""
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "Foundation",
									"sid": 193117765400933,
									"parameters": {
										"unique-id": "FromUID"
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "Card",
									"sid": 572830724060997,
									"parameters": {
										"x": "Foundation.X",
										"y": "Foundation.Y"
									}
								}
							],
							"sid": 745406240085452
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 817797604537017,
									"parameters": {
										"variable": "FromType",
										"comparison": 0,
										"value": "\"Stock\""
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "Stock",
									"sid": 922642415866303,
									"parameters": {
										"unique-id": "FromUID"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "Card",
									"sid": 529361082678410,
									"parameters": {
										"animation": "DECK_ART & \"Backs\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-position",
									"objectClass": "Card",
									"sid": 585341966243627,
									"parameters": {
										"x": "Stock.X",
										"y": "Stock.Y"
									}
								},
								{
									"id": "move-to-top",
									"objectClass": "Card",
									"sid": 463843979542935
								}
							],
							"sid": 796851822636239
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 701603735546029,
									"parameters": {
										"variable": "FromType",
										"comparison": 0,
										"value": "\"Tableau\""
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "Tableau",
									"sid": 864331247773953,
									"parameters": {
										"unique-id": "FromUID"
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "Card",
									"sid": 640918327818465,
									"parameters": {
										"x": "Tableau.X",
										"y": "Tableau.Y + Tableau.NumberOfCards * CARD_OFFSET"
									}
								}
							],
							"sid": 977549318484120
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 645159203822701,
							"parameters": {
								"variable": "FromType",
								"comparison": 0,
								"value": "\"StockFlip\""
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "Stock",
							"sid": 715742857300960,
							"parameters": {
								"unique-id": "FromUID"
							}
						}
					],
					"actions": [
						{
							"id": "add-to-instvar",
							"objectClass": "Stock",
							"sid": 646925347541372,
							"parameters": {
								"instance-variable": "FlipsRemaining",
								"value": "1"
							}
						}
					],
					"sid": 305305729396155,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "Card",
									"sid": 708605901943074,
									"parameters": {
										"object": "Stock"
									}
								}
							],
							"actions": [],
							"sid": 891444293103329,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each-ordered",
											"objectClass": "System",
											"sid": 107599965010977,
											"parameters": {
												"object": "Card",
												"expression": "Card.ZIndex",
												"order": "descending"
											}
										}
									],
									"actions": [
										{
											"id": "set-position",
											"objectClass": "Card",
											"sid": 860173868054997,
											"parameters": {
												"x": "Discard.X",
												"y": "Discard.Y"
											}
										},
										{
											"id": "move-to-top",
											"objectClass": "Card",
											"sid": 646209440044935
										},
										{
											"id": "set-animation",
											"objectClass": "Card",
											"sid": 416709162202163,
											"parameters": {
												"animation": "DECK_ART",
												"from": "beginning"
											}
										},
										{
											"id": "set-animation-frame",
											"objectClass": "Card",
											"sid": 849592546479493,
											"parameters": {
												"frame-number": "Card.Frame"
											}
										}
									],
									"sid": 887034472931983
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "pop",
							"objectClass": "UndoArray",
							"sid": 477159171569524,
							"parameters": {
								"where": "back",
								"axis": "x"
							}
						},
						{
							"callFunction": "RecalculateEverything",
							"sid": 671364319272933
						}
					],
					"sid": 951167902352569
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-size",
					"objectClass": "UndoArray",
					"sid": 926349710520765,
					"parameters": {
						"axis": "x",
						"comparison": 0,
						"value": "0"
					}
				}
			],
			"actions": [
				{
					"id": "set-opacity",
					"objectClass": "UndoButton",
					"sid": 197436675094788,
					"parameters": {
						"opacity": "30"
					}
				}
			],
			"sid": 752739307022525
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "else",
					"objectClass": "System",
					"sid": 179068361355151
				}
			],
			"actions": [
				{
					"id": "set-opacity",
					"objectClass": "UndoButton",
					"sid": 458015452099820,
					"parameters": {
						"opacity": "100"
					}
				}
			],
			"sid": 764194001158981
		},
		{
			"functionName": "PushToUndoArray",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "CardUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 862626677932731
				},
				{
					"name": "FromType",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 986618021985952
				},
				{
					"name": "FromUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 618784523508909
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "push",
					"objectClass": "UndoArray",
					"sid": 536093857210066,
					"parameters": {
						"where": "back",
						"value": "CardUID",
						"axis": "x"
					}
				},
				{
					"id": "set-at-xy",
					"objectClass": "UndoArray",
					"sid": 714822212197016,
					"parameters": {
						"x": "UndoArray.Width - 1",
						"y": "1",
						"value": "FromType"
					}
				},
				{
					"id": "set-at-xy",
					"objectClass": "UndoArray",
					"sid": 806374374806442,
					"parameters": {
						"x": "UndoArray.Width - 1",
						"y": "2",
						"value": "FromUID"
					}
				}
			],
			"sid": 474556955649895
		}
	],
	"sid": 556817675701426
}