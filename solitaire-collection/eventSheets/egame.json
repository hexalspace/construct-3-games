{
	"name": "eGame",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "eRulesConstants"
		},
		{
			"eventType": "include",
			"includeSheet": "eFoundations"
		},
		{
			"eventType": "include",
			"includeSheet": "eStock"
		},
		{
			"eventType": "include",
			"includeSheet": "eUndo"
		},
		{
			"eventType": "variable",
			"name": "Variant",
			"type": "string",
			"initialValue": "Playground",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 399367974342503
		},
		{
			"eventType": "variable",
			"name": "CurrentCardFromStackType",
			"type": "string",
			"initialValue": "",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 340403022144455
		},
		{
			"eventType": "variable",
			"name": "CurrentCardFromStackUID",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 267037744942095
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-drag-start",
					"objectClass": "Card",
					"sid": 651950951535112,
					"behaviorType": "DragDrop"
				}
			],
			"actions": [
				{
					"id": "move-to-top",
					"objectClass": "Card",
					"sid": 659698110435794
				},
				{
					"callFunction": "GetValidMoves",
					"sid": 717957642967794,
					"parameters": [
						"Card.UID"
					]
				}
			],
			"sid": 679022954888898,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "Card",
							"sid": 319291939980615,
							"parameters": {
								"object": "Discard"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 979616129138490,
							"parameters": {
								"variable": "CurrentCardFromStackType",
								"value": "\"Discard\""
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 857637271553096,
							"parameters": {
								"variable": "CurrentCardFromStackUID",
								"value": "Discard.UID"
							}
						}
					],
					"sid": 163539972307047
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "Card",
							"sid": 231398236439553,
							"parameters": {
								"object": "Foundation"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 619626778819853,
							"parameters": {
								"variable": "CurrentCardFromStackType",
								"value": "\"Foundation\""
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 736137419287685,
							"parameters": {
								"variable": "CurrentCardFromStackUID",
								"value": "Foundation.UID"
							}
						}
					],
					"sid": 518718509034756
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "Card",
							"sid": 301574871394396,
							"parameters": {
								"object": "Tableau"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 158382166554129,
							"parameters": {
								"variable": "CurrentCardFromStackType",
								"value": "\"Tableau\""
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 614268862205241,
							"parameters": {
								"variable": "CurrentCardFromStackUID",
								"value": "Tableau.UID"
							}
						}
					],
					"sid": 750490102187113
				}
			]
		},
		{
			"functionName": "GetValidMoves",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "CardUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 486907260226066
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "Card",
					"sid": 569897567489613,
					"parameters": {
						"unique-id": "CardUID"
					}
				}
			],
			"actions": [
				{
					"callFunction": "GetValidFoundationMoves",
					"sid": 662300830452920,
					"parameters": [
						"Card.UID"
					]
				}
			],
			"sid": 292757725274018
		},
		{
			"functionName": "RecalculateEverything",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 370900848910824,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Stock",
							"sid": 727449882410873,
							"parameters": {
								"instance-variable": "FlipsRemaining",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-opacity",
							"objectClass": "Stock",
							"sid": 364592317843896,
							"parameters": {
								"opacity": "0"
							}
						}
					],
					"sid": 857205078302746
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 186004734096822,
							"parameters": {
								"object": "Foundation"
							}
						}
					],
					"actions": [],
					"sid": 855914778404425,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "Card",
									"sid": 551501362682933,
									"parameters": {
										"object": "Foundation"
									}
								},
								{
									"id": "pick-topbottom",
									"objectClass": "Card",
									"sid": 123987644699660,
									"parameters": {
										"which": "top"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Foundation",
									"sid": 297026908434436,
									"parameters": {
										"instance-variable": "Suit",
										"value": "Card.Suit"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Foundation",
									"sid": 899563177254855,
									"parameters": {
										"instance-variable": "TopCardValue",
										"value": "Card.Value"
									}
								}
							],
							"sid": 615593248917359
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "Foundation",
									"sid": 249376064129078,
									"parameters": {
										"object": "Card"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Foundation",
									"sid": 602561922040146,
									"parameters": {
										"instance-variable": "Suit",
										"value": "\"\""
									}
								}
							],
							"sid": 167091940500962
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 306505717269847,
							"parameters": {
								"object": "Tableau"
							}
						}
					],
					"actions": [],
					"sid": 988437144455235,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "Card",
									"sid": 902608227268614,
									"parameters": {
										"object": "Tableau"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Tableau",
									"sid": 650020073352302,
									"parameters": {
										"instance-variable": "NumberOfCards",
										"value": "Card.PickedCount"
									}
								}
							],
							"sid": 987158219852392,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-topbottom",
											"objectClass": "Card",
											"sid": 789920177331906,
											"parameters": {
												"which": "top"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "Tableau",
											"sid": 721853374745994,
											"parameters": {
												"instance-variable": "TopCardValue",
												"value": "Card.Value"
											}
										}
									],
									"sid": 119452330296875
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-height",
									"objectClass": "Tableau",
									"sid": 582920129223939,
									"parameters": {
										"height": "Card.Height + (Tableau.NumberOfCards - 1) * CARD_OFFSET"
									}
								}
							],
							"sid": 183598425155831
						}
					]
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-drop",
					"objectClass": "Card",
					"sid": 332178497399567,
					"behaviorType": "DragDrop"
				}
			],
			"actions": [],
			"sid": 567857594982173,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "Card",
							"sid": 251988622079212,
							"parameters": {
								"object": "Foundation"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "Foundation",
							"sid": 301280525413829,
							"parameters": {
								"instance-variable": "IsValidDrop"
							}
						}
					],
					"actions": [
						{
							"id": "set-position",
							"objectClass": "Card",
							"sid": 829107684109853,
							"parameters": {
								"x": "Foundation.X",
								"y": "Foundation.Y"
							}
						},
						{
							"id": "set-enabled",
							"objectClass": "Card",
							"sid": 317689957189531,
							"behaviorType": "DragDrop",
							"parameters": {
								"state": "disabled"
							}
						},
						{
							"callFunction": "PushToUndoArray",
							"sid": 109831062007694,
							"parameters": [
								"Card.UID",
								"CurrentCardFromStackType",
								"CurrentCardFromStackUID"
							]
						},
						{
							"callFunction": "RecalculateEverything",
							"sid": 482402471352662
						}
					],
					"sid": 364782163715605,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-all",
									"objectClass": "System",
									"sid": 655193075813550,
									"parameters": {
										"object": "Foundation"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Foundation",
									"sid": 694017672293735,
									"parameters": {
										"instance-variable": "IsValidDrop",
										"value": "false"
									}
								}
							],
							"sid": 351302752460323
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 361804240571990
						}
					],
					"actions": [
						{
							"id": "tween-two-properties",
							"objectClass": "Card",
							"sid": 996893265272767,
							"disabled": true,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"\"",
								"property": "position",
								"end-x": "0",
								"end-y": "0",
								"time": "5",
								"ease": "default",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						}
					],
					"sid": 544991962897952
				}
			]
		}
	],
	"sid": 458908244364340
}