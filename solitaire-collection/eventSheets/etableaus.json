{
	"name": "eTableaus",
	"events": [
		{
			"functionName": "CanCardMoveToTableau",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "number",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "CardUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 307428858852722
				},
				{
					"name": "TableauUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 952114963579391
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "Card",
					"sid": 643199741042278,
					"parameters": {
						"unique-id": "CardUID"
					}
				},
				{
					"id": "pick-by-unique-id",
					"objectClass": "Tableau",
					"sid": 319485549760443,
					"parameters": {
						"unique-id": "TableauUID"
					}
				}
			],
			"actions": [],
			"sid": 922265269922068,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-enabled",
							"objectClass": "Card",
							"sid": 332540127207570,
							"behaviorType": "DragDrop",
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-function-return-value",
							"objectClass": "Functions",
							"sid": 807999727385211,
							"parameters": {
								"value": "0"
							}
						}
					],
					"sid": 712227532083410
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 611261315309175
						}
					],
					"actions": [],
					"sid": 573773325540888,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Tableau",
									"sid": 586959573224507,
									"parameters": {
										"instance-variable": "NumberOfCards",
										"comparison": 0,
										"value": "0"
									}
								}
							],
							"actions": [],
							"sid": 563091199042458,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 380314196828392,
											"parameters": {
												"variable": "TABLEAUS_CAN_MOVE_ANY_CARD_TO_EMPTY"
											}
										}
									],
									"actions": [
										{
											"id": "set-function-return-value",
											"objectClass": "Functions",
											"sid": 188188917605082,
											"parameters": {
												"value": "1"
											}
										}
									],
									"sid": 632541324749386
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Card",
											"sid": 630657774513650,
											"parameters": {
												"instance-variable": "Value",
												"comparison": 0,
												"value": "TABLEAUS_CAN_MOVE_SPECIFIC_CARD_TO_EMPTY"
											}
										}
									],
									"actions": [
										{
											"id": "set-function-return-value",
											"objectClass": "Functions",
											"sid": 355529927769791,
											"parameters": {
												"value": "1"
											}
										}
									],
									"sid": 713377410108216
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 428965515880463
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 550519504955627,
									"parameters": {
										"first-value": "Functions.CalculateCanCardMoveToTableau(Card.Color, Card.Suit, Card.Value, Tableau.TopCardColor, Tableau.TopCardSuit, Tableau.TopCardValue)",
										"comparison": 0,
										"second-value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 601463847837312,
									"parameters": {
										"value": "1"
									}
								}
							],
							"sid": 211938723515837
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 425222260787790
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 596874351271469,
									"parameters": {
										"value": "0"
									}
								}
							],
							"sid": 359778488613432
						}
					]
				}
			]
		},
		{
			"functionName": "CalculateCanCardMoveToTableau",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "number",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "CardColor",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 269278758158577
				},
				{
					"name": "CardSuit",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 617507317556814
				},
				{
					"name": "CardValue",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 725462546777353
				},
				{
					"name": "TableauTopCardColor",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 119336506203528
				},
				{
					"name": "TableauTopCardSuit",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 869860476847334
				},
				{
					"name": "TableauTopCardValue",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 394569285756400
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 948478818612168,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 888811651774188,
							"parameters": {
								"variable": "TABLEAUS_DIRECTION",
								"comparison": 0,
								"value": "\"Down\""
							}
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 612963192605366,
							"parameters": {
								"first-value": "CardValue",
								"comparison": 0,
								"second-value": "TableauTopCardValue - 1"
							}
						}
					],
					"actions": [],
					"sid": 109540719561426,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 387613860508193,
									"parameters": {
										"variable": "TABLEAUS_ALTERNATE_COLOR"
									}
								}
							],
							"actions": [],
							"sid": 498948986880246,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 778954879593030,
											"parameters": {
												"variable": "CardColor",
												"comparison": 0,
												"value": "\"Black\""
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 256332389586668,
											"parameters": {
												"variable": "TableauTopCardColor",
												"comparison": 0,
												"value": "\"Red\""
											}
										}
									],
									"actions": [
										{
											"id": "set-function-return-value",
											"objectClass": "Functions",
											"sid": 108937976012614,
											"parameters": {
												"value": "1"
											}
										}
									],
									"sid": 714000346084822
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 684387370256762
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 548196870617779,
											"parameters": {
												"variable": "CardColor",
												"comparison": 0,
												"value": "\"Red\""
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 938816292885745,
											"parameters": {
												"variable": "TableauTopCardColor",
												"comparison": 0,
												"value": "\"Black\""
											}
										}
									],
									"actions": [
										{
											"id": "set-function-return-value",
											"objectClass": "Functions",
											"sid": 941441408949415,
											"parameters": {
												"value": "1"
											}
										}
									],
									"sid": 777863409920633
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 811123208723210
										}
									],
									"actions": [
										{
											"id": "set-function-return-value",
											"objectClass": "Functions",
											"sid": 944478782339458,
											"parameters": {
												"value": "0"
											}
										}
									],
									"sid": 610509077464943
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 359621493686263
								},
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 337006867841137,
									"parameters": {
										"variable": "TABLEAUS_SAME_SUIT"
									}
								}
							],
							"actions": [],
							"sid": 127091933358042,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 649346125641144,
											"parameters": {
												"variable": "CardSuit",
												"comparison": 0,
												"value": "TableauTopCardSuit"
											}
										}
									],
									"actions": [
										{
											"id": "set-function-return-value",
											"objectClass": "Functions",
											"sid": 371866876384485,
											"parameters": {
												"value": "1"
											}
										}
									],
									"sid": 286997928709314
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 451645932161731
										}
									],
									"actions": [
										{
											"id": "set-function-return-value",
											"objectClass": "Functions",
											"sid": 741919678584650,
											"parameters": {
												"value": "0"
											}
										}
									],
									"sid": 895317526291400
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 506137689763808
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 963691019144609,
									"parameters": {
										"value": "1"
									}
								}
							],
							"sid": 379282038209992
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 751675397126926
						},
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 968487615770956,
							"parameters": {
								"variable": "TABLEAUS_DIRECTION",
								"comparison": 0,
								"value": "\"Up\""
							}
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 578310873274751,
							"parameters": {
								"first-value": "CardValue",
								"comparison": 0,
								"second-value": "TableauTopCardValue + 1"
							}
						}
					],
					"actions": [],
					"sid": 657141777161913,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 606200826153549,
									"parameters": {
										"variable": "TABLEAUS_ALTERNATE_COLOR"
									}
								}
							],
							"actions": [],
							"sid": 605644657720947,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 967687104223458,
											"parameters": {
												"variable": "CardColor",
												"comparison": 0,
												"value": "\"Black\""
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 865446474651661,
											"parameters": {
												"variable": "TableauTopCardColor",
												"comparison": 0,
												"value": "\"Red\""
											}
										}
									],
									"actions": [
										{
											"id": "set-function-return-value",
											"objectClass": "Functions",
											"sid": 124874174181870,
											"parameters": {
												"value": "1"
											}
										}
									],
									"sid": 302146853683471
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 791036774791587,
											"parameters": {
												"variable": "CardColor",
												"comparison": 0,
												"value": "\"Red\""
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 922051606334511,
											"parameters": {
												"variable": "TableauTopCardColor",
												"comparison": 0,
												"value": "\"Black\""
											}
										}
									],
									"actions": [
										{
											"id": "set-function-return-value",
											"objectClass": "Functions",
											"sid": 827135159559160,
											"parameters": {
												"value": "1"
											}
										}
									],
									"sid": 925738387537564
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 306679576872462
										}
									],
									"actions": [
										{
											"id": "set-function-return-value",
											"objectClass": "Functions",
											"sid": 274422178406306,
											"parameters": {
												"value": "0"
											}
										}
									],
									"sid": 646218355236904
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 989338245753821
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 259312727628507,
									"parameters": {
										"value": "1"
									}
								}
							],
							"sid": 153697995917618
						}
					]
				}
			]
		},
		{
			"functionName": "GetValidTableauMoves",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "CardUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 194816804896634
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "set-boolean-instvar",
					"objectClass": "Tableau",
					"sid": 905216641072132,
					"parameters": {
						"instance-variable": "IsValidDrop",
						"value": "false"
					}
				}
			],
			"sid": 902242312482561,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 229418559366643,
							"parameters": {
								"object": "Tableau"
							}
						}
					],
					"actions": [],
					"sid": 850048040339153,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 224519213929450,
									"parameters": {
										"first-value": "Functions.CanCardMoveToTableau(CardUID, Tableau.UID)",
										"comparison": 0,
										"second-value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Tableau",
									"sid": 231063886398500,
									"parameters": {
										"instance-variable": "IsValidDrop",
										"value": "true"
									}
								}
							],
							"sid": 420789630939319
						}
					]
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "Tableau",
					"sid": 559237241909040,
					"parameters": {
						"instance-variable": "IsValidDrop"
					}
				},
				{
					"id": "is-in-preview",
					"objectClass": "System",
					"sid": 818282781295683
				},
				{
					"id": "compare-boolean-eventvar",
					"objectClass": "System",
					"sid": 575370463279356,
					"parameters": {
						"variable": "DEBUG_MODE"
					}
				}
			],
			"actions": [
				{
					"id": "set-default-color",
					"objectClass": "Tableau",
					"sid": 451604655007830,
					"parameters": {
						"color": "rgbEx(0, 100, 0)"
					}
				},
				{
					"id": "set-width",
					"objectClass": "Tableau",
					"sid": 518816681496335,
					"parameters": {
						"width": "Card.Width * 1.5"
					}
				}
			],
			"sid": 355561082994104
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "else",
					"objectClass": "System",
					"sid": 944071063089169
				}
			],
			"actions": [
				{
					"id": "set-default-color",
					"objectClass": "Tableau",
					"sid": 988236968885385,
					"parameters": {
						"color": "rgbEx(100, 100, 100)"
					}
				},
				{
					"id": "set-width",
					"objectClass": "Tableau",
					"sid": 619714947980330,
					"parameters": {
						"width": "Card.Width * 9 / 8 "
					}
				}
			],
			"sid": 363193195314109
		},
		{
			"functionName": "MoveCardFromTableau",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "CardUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 866548062812984
				},
				{
					"name": "TableauUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 504892007355182
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "Tableau",
					"sid": 699543727474257,
					"parameters": {
						"unique-id": "TableauUID"
					}
				}
			],
			"actions": [],
			"sid": 991938819055046,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "Card",
							"sid": 810687147585715,
							"parameters": {
								"unique-id": "CardUID"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Card",
							"sid": 837787733540122,
							"parameters": {
								"instance-variable": "TableauUID",
								"value": "-1"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Card",
							"sid": 753219016253246,
							"parameters": {
								"instance-variable": "IndexInTableau",
								"value": "-1"
							}
						}
					],
					"sid": 785751745420305
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-all",
							"objectClass": "System",
							"sid": 278459827657230,
							"parameters": {
								"object": "Card"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "Card",
							"sid": 636531652851249,
							"parameters": {
								"instance-variable": "TableauUID",
								"comparison": 0,
								"value": "TableauUID"
							}
						},
						{
							"id": "pick-highestlowest",
							"objectClass": "Card",
							"sid": 944402444324046,
							"parameters": {
								"which": "highest",
								"instance-variable": "IndexInTableau"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Tableau",
							"sid": 772296107699050,
							"parameters": {
								"instance-variable": "TopCardColor",
								"value": "Card.Color"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Tableau",
							"sid": 100385540124633,
							"parameters": {
								"instance-variable": "TopCardSuit",
								"value": "Card.Suit"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Tableau",
							"sid": 762214618306332,
							"parameters": {
								"instance-variable": "TopCardValue",
								"value": "Card.Value"
							}
						}
					],
					"sid": 246065031035167
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Tableau",
							"sid": 316936205913143,
							"parameters": {
								"instance-variable": "NumberOfCards",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Tableau",
							"sid": 772783174222709,
							"parameters": {
								"instance-variable": "TopCardColor",
								"value": "\"\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Tableau",
							"sid": 295761085858862,
							"parameters": {
								"instance-variable": "TopCardSuit",
								"value": "\"\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Tableau",
							"sid": 847415295839477,
							"parameters": {
								"instance-variable": "TopCardValue",
								"value": "-1"
							}
						}
					],
					"sid": 642570947508826
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"callFunction": "CalculateMovableCardsInTableau",
							"sid": 306267676040784,
							"parameters": [
								"TableauUID"
							]
						}
					],
					"sid": 979133508457039
				}
			]
		},
		{
			"functionName": "MoveCardToTableau",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "CardUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 453209371360834
				},
				{
					"name": "TableauUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 516544635467401
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "Card",
					"sid": 679246832082887,
					"parameters": {
						"unique-id": "CardUID"
					}
				},
				{
					"id": "pick-by-unique-id",
					"objectClass": "Tableau",
					"sid": 152820412752567,
					"parameters": {
						"unique-id": "TableauUID"
					}
				}
			],
			"actions": [
				{
					"id": "set-instvar-value",
					"objectClass": "Tableau",
					"sid": 468973788463324,
					"parameters": {
						"instance-variable": "TopCardColor",
						"value": "Card.Color"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Tableau",
					"sid": 310479323603248,
					"parameters": {
						"instance-variable": "TopCardSuit",
						"value": "Card.Suit"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Tableau",
					"sid": 576906023877127,
					"parameters": {
						"instance-variable": "TopCardValue",
						"value": "Card.Value"
					}
				},
				{
					"id": "add-to-instvar",
					"objectClass": "Tableau",
					"sid": 893759204407335,
					"parameters": {
						"instance-variable": "NumberOfCards",
						"value": "1"
					}
				}
			],
			"sid": 496013005068225,
			"children": [
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Card",
							"sid": 277636599518835,
							"parameters": {
								"instance-variable": "TableauUID",
								"value": "TableauUID"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Card",
							"sid": 402801661933141,
							"parameters": {
								"instance-variable": "IndexInTableau",
								"value": "Tableau.NumberOfCards - 1"
							}
						},
						{
							"callFunction": "MoveCardToXY",
							"sid": 228596112427430,
							"parameters": [
								"Card.UID",
								"Tableau.X",
								"Tableau.Y + CARD_OFFSET * (Tableau.NumberOfCards - 1)"
							]
						},
						{
							"callFunction": "CalculateMovableCardsInTableau",
							"sid": 311924404410165,
							"parameters": [
								"TableauUID"
							]
						}
					],
					"sid": 980599823346147
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "wait-for-signal",
							"objectClass": "System",
							"sid": 600320903174264,
							"parameters": {
								"tag": "\"MoveCardToXY\""
							}
						},
						{
							"callFunction": "SetTableauHeight",
							"sid": 492460766395049,
							"parameters": [
								"Tableau.UID"
							]
						}
					],
					"sid": 181713003975710
				}
			]
		},
		{
			"functionName": "FlipSouthmostCardFaceUp",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "TableauUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 285043244790249
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "Tableau",
					"sid": 117321147469507,
					"parameters": {
						"unique-id": "TableauUID"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "Card",
					"sid": 902950318908582,
					"parameters": {
						"instance-variable": "TableauUID",
						"comparison": 0,
						"value": "TableauUID"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "Card",
					"sid": 821724701083222,
					"parameters": {
						"instance-variable": "IndexInTableau",
						"comparison": 0,
						"value": "Tableau.NumberOfCards - 1"
					}
				},
				{
					"id": "is-animation-playing",
					"objectClass": "Card",
					"sid": 502809564822313,
					"parameters": {
						"animation": "DECK_ART & \"Backs\""
					}
				}
			],
			"actions": [
				{
					"id": "set-animation",
					"objectClass": "Card",
					"sid": 151386351516889,
					"parameters": {
						"animation": "DECK_ART",
						"from": "beginning"
					}
				},
				{
					"id": "set-animation-frame",
					"objectClass": "Card",
					"sid": 652235257551721,
					"parameters": {
						"frame-number": "Card.Frame"
					}
				},
				{
					"id": "set-boolean-instvar",
					"objectClass": "Card",
					"sid": 795621365404611,
					"parameters": {
						"instance-variable": "IsMovable",
						"value": "true"
					}
				},
				{
					"id": "set-enabled",
					"objectClass": "Card",
					"sid": 652709744234017,
					"behaviorType": "DragDrop",
					"parameters": {
						"state": "enabled"
					}
				},
				{
					"callFunction": "PushToUndoArray",
					"sid": 287183528529371,
					"parameters": [
						"Card.UID",
						"\"FlipCard\"",
						"Tableau.UID",
						"0"
					]
				}
			],
			"sid": 420849917139351,
			"children": [
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"callFunction": "CalculateMovableCardsInTableau",
							"sid": 137564244144574,
							"parameters": [
								"TableauUID"
							]
						}
					],
					"sid": 991916112432367
				}
			]
		},
		{
			"functionName": "CalculateMovableCardInTableau",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "CardIndexInTableau",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 359944630116816
				},
				{
					"name": "TableauUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 833610395338247
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "Tableau",
					"sid": 634005515426115,
					"parameters": {
						"unique-id": "TableauUID"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "Card",
					"sid": 316533060383385,
					"parameters": {
						"instance-variable": "IndexInTableau",
						"comparison": 0,
						"value": "CardIndexInTableau"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "Card",
					"sid": 853518331182321,
					"parameters": {
						"instance-variable": "TableauUID",
						"comparison": 0,
						"value": "TableauUID"
					}
				}
			],
			"actions": [],
			"sid": 604536919988422,
			"children": [
				{
					"eventType": "comment",
					"text": "recursive"
				},
				{
					"eventType": "comment",
					"text": "the card in question is the north card"
				},
				{
					"eventType": "comment",
					"text": "we will determine whether or not it is movable by looking at the card south of it"
				},
				{
					"eventType": "variable",
					"name": "NorthCardColor",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 252458254930938
				},
				{
					"eventType": "variable",
					"name": "NorthCardSuit",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 608830743933990
				},
				{
					"eventType": "variable",
					"name": "NorthCardUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 711329998508223
				},
				{
					"eventType": "variable",
					"name": "NorthCardValue",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 211948194067950
				},
				{
					"eventType": "variable",
					"name": "SouthCardColor",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 372425420478289
				},
				{
					"eventType": "variable",
					"name": "SouthCardSuit",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 739419549026665
				},
				{
					"eventType": "variable",
					"name": "SouthCardUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 438350344460075
				},
				{
					"eventType": "variable",
					"name": "SouthCardValue",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 334076696586728
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 530070714257010,
							"parameters": {
								"variable": "TABLEAUS_CAN_MULTI_MOVE"
							}
						}
					],
					"actions": [],
					"sid": 643136166582479,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 227362408252882,
									"parameters": {
										"variable": "NorthCardColor",
										"value": "Card.Color"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 319386084624808,
									"parameters": {
										"variable": "NorthCardSuit",
										"value": "Card.Suit"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 831690765701815,
									"parameters": {
										"variable": "NorthCardUID",
										"value": "Card.UID"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 984351695743810,
									"parameters": {
										"variable": "NorthCardValue",
										"value": "Card.Value"
									}
								}
							],
							"sid": 428408904920112
						},
						{
							"eventType": "comment",
							"text": "two situations mean there is no card south of this one"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 182517413067379,
									"parameters": {
										"variable": "CardIndexInTableau",
										"comparison": 0,
										"value": "0"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "Tableau",
									"sid": 365813781897998,
									"parameters": {
										"instance-variable": "NumberOfCards",
										"comparison": 0,
										"value": "1"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "only one card in the tableau: it's movable; no need to recurse"
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "Card",
									"sid": 445890827329362,
									"parameters": {
										"instance-variable": "IsMovable",
										"value": "true"
									}
								},
								{
									"id": "set-enabled",
									"objectClass": "Card",
									"sid": 883755038711725,
									"behaviorType": "DragDrop",
									"parameters": {
										"state": "enabled"
									}
								},
								{
									"id": "set-default-color",
									"objectClass": "Card",
									"sid": 308171216262326,
									"parameters": {
										"color": "rgbEx255(255, 255, 255)"
									}
								}
							],
							"sid": 709642316511590
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 121461537200798
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 753789033883343,
									"parameters": {
										"variable": "CardIndexInTableau",
										"comparison": 0,
										"value": "Tableau.NumberOfCards - 1"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "southernmost card in the tableau: it's movable; recurse"
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "Card",
									"sid": 703264835700775,
									"parameters": {
										"instance-variable": "IsMovable",
										"value": "true"
									}
								},
								{
									"id": "set-enabled",
									"objectClass": "Card",
									"sid": 591280055811449,
									"behaviorType": "DragDrop",
									"parameters": {
										"state": "enabled"
									}
								},
								{
									"id": "set-default-color",
									"objectClass": "Card",
									"sid": 141548902733978,
									"parameters": {
										"color": "rgbEx255(255, 255, 255)"
									}
								},
								{
									"callFunction": "CalculateMovableCardInTableau",
									"sid": 850923439872263,
									"parameters": [
										"CardIndexInTableau - 1",
										"TableauUID"
									]
								}
							],
							"sid": 943572471746482
						},
						{
							"eventType": "comment",
							"text": "other cards do have a card south of them; compare the two cards"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 479722146220778
								}
							],
							"actions": [],
							"sid": 910499173418056,
							"children": [
								{
									"eventType": "comment",
									"text": "if it's face-down, it's not movable"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "Card",
											"sid": 945713122850012,
											"parameters": {
												"animation": "DECK_ART"
											}
										}
									],
									"actions": [],
									"sid": 271777868852531,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-all",
													"objectClass": "System",
													"sid": 560139823712204,
													"parameters": {
														"object": "Card"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "Card",
													"sid": 996706043091101,
													"parameters": {
														"instance-variable": "IndexInTableau",
														"comparison": 0,
														"value": "CardIndexInTableau + 1"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "Card",
													"sid": 606509308745339,
													"parameters": {
														"instance-variable": "TableauUID",
														"comparison": 0,
														"value": "TableauUID"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 374461337643229,
													"parameters": {
														"variable": "SouthCardColor",
														"value": "Card.Color"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 460674634696398,
													"parameters": {
														"variable": "SouthCardSuit",
														"value": "Card.Suit"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 716244520464940,
													"parameters": {
														"variable": "SouthCardUID",
														"value": "Card.UID"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 523270783793056,
													"parameters": {
														"variable": "SouthCardValue",
														"value": "Card.Value"
													}
												}
											],
											"sid": 508840334226844,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 183359593704397,
															"parameters": {
																"first-value": "Functions.CalculateCanCardMoveToTableau(SouthCardColor, SouthCardSuit, SouthCardValue, NorthCardColor, NorthCardSuit, NorthCardValue)",
																"comparison": 0,
																"second-value": "1"
															}
														}
													],
													"actions": [],
													"sid": 844831401945523,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "pick-all",
																	"objectClass": "System",
																	"sid": 379873001402650,
																	"parameters": {
																		"object": "Card"
																	}
																},
																{
																	"id": "pick-by-unique-id",
																	"objectClass": "Card",
																	"sid": 385757732833835,
																	"parameters": {
																		"unique-id": "NorthCardUID"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "Card",
																	"sid": 886295836967176,
																	"parameters": {
																		"instance-variable": "IsMovable",
																		"value": "true"
																	}
																},
																{
																	"id": "set-enabled",
																	"objectClass": "Card",
																	"sid": 497913320555495,
																	"behaviorType": "DragDrop",
																	"parameters": {
																		"state": "enabled"
																	}
																},
																{
																	"id": "set-default-color",
																	"objectClass": "Card",
																	"sid": 247984822061318,
																	"parameters": {
																		"color": "rgbEx255(255, 255, 255)"
																	}
																},
																{
																	"type": "comment",
																	"text": "recurse to see if the card north of this should also be set to movable"
																},
																{
																	"callFunction": "CalculateMovableCardInTableau",
																	"sid": 626404423943840,
																	"parameters": [
																		"CardIndexInTableau - 1",
																		"TableauUID"
																	]
																}
															],
															"sid": 235712485188057
														}
													]
												}
											]
										}
									]
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 281640041746340
						}
					],
					"actions": [],
					"sid": 892473350465170,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 302480555391489,
									"parameters": {
										"variable": "CardIndexInTableau",
										"comparison": 0,
										"value": "Tableau.NumberOfCards - 1"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "southernmost card in the tableau: it's movable; don't recurse because no cards north of it are movable because TABLEAUS_CAN_MULTI_MOVE is false"
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "Card",
									"sid": 906347719368218,
									"parameters": {
										"instance-variable": "IsMovable",
										"value": "true"
									}
								},
								{
									"id": "set-enabled",
									"objectClass": "Card",
									"sid": 281618381958749,
									"behaviorType": "DragDrop",
									"parameters": {
										"state": "enabled"
									}
								},
								{
									"id": "set-default-color",
									"objectClass": "Card",
									"sid": 483219006674694,
									"parameters": {
										"color": "rgbEx255(255, 255, 255)"
									}
								}
							],
							"sid": 282456468096467
						}
					]
				}
			]
		},
		{
			"functionName": "CalculateMovableCardsInTableau",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "TableauUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 769872206955851
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "Tableau",
					"sid": 192406117205596,
					"parameters": {
						"unique-id": "TableauUID"
					}
				}
			],
			"actions": [],
			"sid": 423567094644657,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Card",
							"sid": 703059462254414,
							"parameters": {
								"instance-variable": "TableauUID",
								"comparison": 0,
								"value": "TableauUID"
							}
						}
					],
					"actions": [],
					"sid": 990681217912070,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each-ordered",
									"objectClass": "System",
									"sid": 185723894970975,
									"parameters": {
										"object": "Card",
										"expression": "Card.ZIndex",
										"order": "descending"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Card",
									"sid": 330248027417951,
									"parameters": {
										"instance-variable": "IsMovable",
										"value": "false"
									}
								},
								{
									"id": "set-enabled",
									"objectClass": "Card",
									"sid": 559322184713408,
									"behaviorType": "DragDrop",
									"parameters": {
										"state": "disabled"
									}
								}
							],
							"sid": 489744205383090,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 150104775261556,
											"parameters": {
												"variable": "TABLEAUS_GRAY_OUT_IMMOVABLE_CARDS"
											}
										}
									],
									"actions": [
										{
											"id": "set-default-color",
											"objectClass": "Card",
											"sid": 172101444274545,
											"parameters": {
												"color": "rgbEx255(209, 209, 209)"
											}
										}
									],
									"sid": 520271291228324
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "wait-for-previous-actions",
							"objectClass": "System",
							"sid": 574507535201013
						},
						{
							"type": "comment",
							"text": "see if the southernmost card of the tableau stack is movable, if it is, the function will recurse with the next card north"
						},
						{
							"callFunction": "CalculateMovableCardInTableau",
							"sid": 427910733249177,
							"parameters": [
								"Tableau.NumberOfCards - 1",
								"TableauUID"
							]
						}
					],
					"sid": 931891806465625
				}
			]
		},
		{
			"functionName": "SetTableauHeight",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "TableauUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 142428433236356
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "Tableau",
					"sid": 110353952665989,
					"parameters": {
						"unique-id": "TableauUID"
					}
				}
			],
			"actions": [
				{
					"id": "set-height",
					"objectClass": "Tableau",
					"sid": 315107551539072,
					"parameters": {
						"height": "max(Card.Height + (Tableau.NumberOfCards - 1) * CARD_OFFSET, Card.Height) * 1.095"
					}
				}
			],
			"sid": 452797717195068
		}
	],
	"sid": 279179437726863
}