{
	"name": "eLoadPuzzle",
	"events": [
		{
			"eventType": "variable",
			"name": "Size",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 830060008538073
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 713848650295329
				}
			],
			"actions": [
				{
					"id": "reset-global-variables",
					"objectClass": "System",
					"sid": 774657284819432
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 214970891446548,
					"parameters": {
						"variable": "Size",
						"value": "CellGrid.Size"
					}
				},
				{
					"id": "request-url",
					"objectClass": "AJAX",
					"sid": 141178435754286,
					"parameters": {
						"tag": "\"\"",
						"url": "\"puzzle\" & CellGrid.Size & \"-\" & CellGrid.CurrentLevel & \".json\""
					}
				}
			],
			"sid": 251566449007057
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-completed",
					"objectClass": "AJAX",
					"sid": 601841436450432,
					"parameters": {
						"tag": "\"\""
					}
				}
			],
			"actions": [
				{
					"id": "parse",
					"objectClass": "JSON",
					"sid": 354643330987289,
					"parameters": {
						"data": "AJAX.LastData"
					}
				}
			],
			"sid": 176735569122503,
			"children": [
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"callFunction": "AddPencilMarkSprites",
							"sid": 333927516363319
						}
					],
					"sid": 795970004681680
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"callFunction": "SetColSums",
							"sid": 191735260666448
						},
						{
							"callFunction": "SetRowSums",
							"sid": 559695797525775
						},
						{
							"callFunction": "SetGrid",
							"sid": 997447870772400
						}
					],
					"sid": 418271304967864
				}
			]
		},
		{
			"functionName": "SetColSums",
			"functionDescription": "",
			"functionCategory": "Load Puzzle",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 828159483781975,
			"children": [
				{
					"eventType": "variable",
					"name": "ColIndex",
					"type": "number",
					"initialValue": "-1",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 206584358155286
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "JSON",
							"sid": 358465577388746,
							"parameters": {
								"path": "\"colSums\""
							}
						}
					],
					"actions": [
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 413744169845413,
							"parameters": {
								"variable": "ColIndex",
								"value": "1"
							}
						}
					],
					"sid": 628867552714611,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "RowOrColNumber",
									"sid": 972894339499306,
									"parameters": {
										"instance-variable": "Row",
										"comparison": 0,
										"value": "-1"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "RowOrColNumber",
									"sid": 921460516380384,
									"parameters": {
										"instance-variable": "Column",
										"comparison": 0,
										"value": "ColIndex"
									}
								},
								{
									"id": "compare-value",
									"objectClass": "JSON",
									"sid": 506354129878578,
									"parameters": {
										"path": "\"colSumsFixed.\" & ColIndex",
										"cmp": 0,
										"value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "RowOrColNumber",
									"sid": 325247771674893,
									"parameters": {
										"text": "JSON.CurrentValue"
									}
								}
							],
							"sid": 763094142509050
						}
					]
				}
			]
		},
		{
			"functionName": "SetRowSums",
			"functionDescription": "",
			"functionCategory": "Load Puzzle",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 564229754067915,
			"children": [
				{
					"eventType": "variable",
					"name": "RowIndex",
					"type": "number",
					"initialValue": "-1",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 675452865517503
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "JSON",
							"sid": 490882393830540,
							"parameters": {
								"path": "\"rowSums\""
							}
						}
					],
					"actions": [
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 990450229921119,
							"parameters": {
								"variable": "RowIndex",
								"value": "1"
							}
						}
					],
					"sid": 461201933555980,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "RowOrColNumber",
									"sid": 758373481516033,
									"parameters": {
										"instance-variable": "Row",
										"comparison": 0,
										"value": "RowIndex"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "RowOrColNumber",
									"sid": 618886007897288,
									"parameters": {
										"instance-variable": "Column",
										"comparison": 0,
										"value": "-1"
									}
								},
								{
									"id": "compare-value",
									"objectClass": "JSON",
									"sid": 777625780477717,
									"parameters": {
										"path": "\"rowSumsFixed.\" & RowIndex",
										"cmp": 0,
										"value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "RowOrColNumber",
									"sid": 152370679711222,
									"parameters": {
										"text": "JSON.CurrentValue"
									}
								}
							],
							"sid": 146697852762823
						}
					]
				}
			]
		},
		{
			"functionName": "SetGrid",
			"functionDescription": "",
			"functionCategory": "Load Puzzle",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 189371432956250,
			"children": [
				{
					"eventType": "variable",
					"name": "ColIndex",
					"type": "number",
					"initialValue": "-1",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 873617863907957
				},
				{
					"eventType": "variable",
					"name": "RowIndex",
					"type": "number",
					"initialValue": "-1",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 976112933813169
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "repeat",
							"objectClass": "System",
							"sid": 214514309282677,
							"parameters": {
								"count": "Size"
							}
						}
					],
					"actions": [
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 436878172277712,
							"parameters": {
								"variable": "RowIndex",
								"value": "1"
							}
						}
					],
					"sid": 861281226678795,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 979940041771808,
									"parameters": {
										"count": "Size"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 653044168978103,
									"parameters": {
										"variable": "ColIndex",
										"value": "loopindex"
									}
								}
							],
							"sid": 169258201500905,
							"children": [
								{
									"eventType": "variable",
									"name": "Value",
									"type": "number",
									"initialValue": "-1",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 486159479694160
								},
								{
									"eventType": "variable",
									"name": "IsFixed",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 688539372893926
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Cell",
											"sid": 119706647683067,
											"parameters": {
												"instance-variable": "Row",
												"comparison": 0,
												"value": "RowIndex"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "Cell",
											"sid": 974414053661611,
											"parameters": {
												"instance-variable": "Column",
												"comparison": 0,
												"value": "ColIndex"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 191838628648071,
											"parameters": {
												"variable": "Value",
												"value": "JSON.Get(\"grid.\" & RowIndex & \".\" & ColIndex)"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 930493966083664,
											"parameters": {
												"variable": "IsFixed",
												"value": "min(JSON.Get(\"gridFixed.\" & RowIndex & \".\" & ColIndex), Size - 1)"
											}
										}
									],
									"sid": 827813699203052,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 267604596328671,
													"parameters": {
														"variable": "Value",
														"comparison": 5,
														"value": "Size - 1"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 325902870867501,
													"parameters": {
														"variable": "Value",
														"value": "min(JSON.Get(\"grid.\" & RowIndex & \".\" & ColIndex), Size - 1)"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "Cell",
													"sid": 360944209121625,
													"parameters": {
														"instance-variable": "CorrectValue",
														"value": "BREAD_INDEX"
													}
												}
											],
											"sid": 735390793596682
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 701550237332152
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "Cell",
													"sid": 128974695715757,
													"parameters": {
														"instance-variable": "CorrectValue",
														"value": "Value"
													}
												}
											],
											"sid": 707845065663729
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 444099980560445,
													"parameters": {
														"variable": "IsFixed",
														"comparison": 0,
														"value": "1"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation-frame",
													"objectClass": "Cell",
													"sid": 662937352415482,
													"parameters": {
														"frame-number": "Cell.CorrectValue"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "Cell",
													"sid": 665870293536351,
													"parameters": {
														"instance-variable": "IsFixed",
														"value": "true"
													}
												},
												{
													"id": "set-animation",
													"objectClass": "Cell",
													"sid": 865449830202009,
													"parameters": {
														"animation": "\"Fixed\"",
														"from": "current-frame"
													}
												},
												{
													"callFunction": "TogglePencilMarksVisibility",
													"sid": 375944739096793,
													"parameters": [
														"Cell.UID"
													]
												}
											],
											"sid": 612286206620121
										}
									]
								}
							]
						}
					]
				}
			]
		},
		{
			"functionName": "AddPencilMarkSprites",
			"functionDescription": "",
			"functionCategory": "Pencil Marks",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 894291820354486,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 623671315665126,
							"parameters": {
								"object": "Cell"
							}
						}
					],
					"actions": [],
					"sid": 153329701709335,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 957505342379170,
									"parameters": {
										"count": "Size - 1"
									}
								}
							],
							"actions": [],
							"sid": 801558215345039,
							"children": [
								{
									"eventType": "variable",
									"name": "PencilMarkFrame",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 938878982016290
								},
								{
									"eventType": "variable",
									"name": "PencilMarkX",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 678370088150039
								},
								{
									"eventType": "variable",
									"name": "PencilMarkY",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 720716500700847
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 219122012460322,
											"parameters": {
												"variable": "PencilMarkFrame",
												"value": "loopindex + 1"
											}
										}
									],
									"sid": 609270873435880
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 739841513248660,
											"parameters": {
												"variable": "PencilMarkFrame",
												"comparison": 0,
												"value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 518022549200145,
											"parameters": {
												"variable": "PencilMarkX",
												"value": "Cell.X"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 382754830858160,
											"parameters": {
												"variable": "PencilMarkY",
												"value": "Cell.Y + Cell.Height * 1 / 8"
											}
										}
									],
									"sid": 393819941869424
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 795340358763759,
											"parameters": {
												"variable": "PencilMarkFrame",
												"comparison": 0,
												"value": "2"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 532494239270855,
											"parameters": {
												"variable": "PencilMarkX",
												"value": "Cell.X + Cell.Width * 1 / 4"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 945158961205813,
											"parameters": {
												"variable": "PencilMarkY",
												"value": "Cell.Y + Cell.Height * 1 / 8"
											}
										}
									],
									"sid": 565331352573263
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 230478464825215,
											"parameters": {
												"variable": "PencilMarkFrame",
												"comparison": 0,
												"value": "3"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 576508585940656,
											"parameters": {
												"variable": "PencilMarkX",
												"value": "Cell.X + Cell.Width * 2 / 4"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 677609344013487,
											"parameters": {
												"variable": "PencilMarkY",
												"value": "Cell.Y + Cell.Height * 1 / 8"
											}
										}
									],
									"sid": 454442911124138
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 427106912743540,
											"parameters": {
												"object-to-create": "PencilMark",
												"layer": "\"Pencil Marks\"",
												"x": "PencilMarkX",
												"y": "PencilMarkY",
												"create-hierarchy": false
											}
										},
										{
											"id": "set-size",
											"objectClass": "PencilMark",
											"sid": 168119478026632,
											"parameters": {
												"width": "Cell.Width / 4",
												"height": "Cell.Height / 4"
											}
										},
										{
											"id": "set-animation-frame",
											"objectClass": "PencilMark",
											"sid": 674929128856196,
											"parameters": {
												"frame-number": "0"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "PencilMark",
											"sid": 272016450091464,
											"parameters": {
												"instance-variable": "CellUID",
												"value": "Cell.UID"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "PencilMark",
											"sid": 135678287376181,
											"parameters": {
												"instance-variable": "Value",
												"value": "PencilMarkFrame"
											}
										}
									],
									"sid": 297176602800968
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 531411758512027,
									"parameters": {
										"object-to-create": "PencilMark",
										"layer": "\"Pencil Marks\"",
										"x": "Cell.X + Cell.Width * 3 / 4",
										"y": "Cell.Y + Cell.Height * 1 / 8",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-size",
									"objectClass": "PencilMark",
									"sid": 711276501330871,
									"parameters": {
										"width": "Cell.Width / 4",
										"height": "Cell.Height / 4"
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "PencilMark",
									"sid": 480233020892035,
									"parameters": {
										"frame-number": "0"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "PencilMark",
									"sid": 329933682280797,
									"parameters": {
										"instance-variable": "CellUID",
										"value": "Cell.UID"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "PencilMark",
									"sid": 282382830572001,
									"parameters": {
										"instance-variable": "Value",
										"value": "BREAD_INDEX"
									}
								}
							],
							"sid": 710720339868360
						}
					]
				}
			]
		}
	],
	"sid": 475670661119153
}