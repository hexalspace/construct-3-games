{
	"name": "eGame",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "eLoadPuzzle"
		},
		{
			"eventType": "include",
			"includeSheet": "eMouse"
		},
		{
			"eventType": "variable",
			"name": "BLOCK_INDEX",
			"type": "number",
			"initialValue": "10",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 139815084904105
		},
		{
			"eventType": "variable",
			"name": "CurrentSelectedNumber",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 398641763992223
		},
		{
			"eventType": "variable",
			"name": "IsPaused",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 638440068207022
		},
		{
			"eventType": "variable",
			"name": "ActiveTool",
			"type": "string",
			"initialValue": "Pen",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 101151735816618
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 658110756084927
				}
			],
			"actions": [
				{
					"id": "set-boolean-eventvar",
					"objectClass": "System",
					"sid": 554558818318444,
					"parameters": {
						"variable": "IsPaused",
						"value": "false"
					}
				},
				{
					"id": "set-visible",
					"objectClass": "NextLevelButton",
					"sid": 979918405959426,
					"parameters": {
						"visibility": "invisible"
					}
				}
			],
			"sid": 924561129029965
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-nth-touch-end",
					"objectClass": "Touch",
					"sid": 817821954052555,
					"parameters": {
						"touch-number": "0"
					}
				},
				{
					"id": "is-touching-object",
					"objectClass": "Touch",
					"sid": 613824419905313,
					"parameters": {
						"object": "NumberSelect"
					}
				},
				{
					"id": "compare-boolean-eventvar",
					"objectClass": "System",
					"sid": 111199768817065,
					"parameters": {
						"variable": "IsPaused"
					},
					"isInverted": true
				}
			],
			"actions": [],
			"sid": 850698710632793,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 256588698696887,
							"parameters": {
								"first-value": "CurrentSelectedNumber",
								"comparison": 0,
								"second-value": "NumberSelect.AnimationFrame"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 463968673288358,
							"parameters": {
								"variable": "CurrentSelectedNumber",
								"value": "0"
							}
						}
					],
					"sid": 429076187704530
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 611524866451366
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 236109091268042,
							"parameters": {
								"variable": "CurrentSelectedNumber",
								"value": "NumberSelect.AnimationFrame"
							}
						}
					],
					"sid": 723511377789135
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-all",
							"objectClass": "System",
							"sid": 339321890402681,
							"parameters": {
								"object": "NumberSelect"
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "NumberSelect",
							"sid": 577661793370452,
							"parameters": {
								"animation": "\"Inactive\"",
								"from": "current-frame"
							}
						}
					],
					"sid": 751699512251536
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-animation-frame",
							"objectClass": "NumberSelect",
							"sid": 257815717687173,
							"parameters": {
								"comparison": 0,
								"number": "CurrentSelectedNumber"
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "NumberSelect",
							"sid": 558524966276173,
							"parameters": {
								"animation": "\"Active\"",
								"from": "current-frame"
							}
						}
					],
					"sid": 166955415377862
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-nth-touch-end",
					"objectClass": "Touch",
					"sid": 913212599081650,
					"parameters": {
						"touch-number": "0"
					}
				},
				{
					"id": "compare-boolean-eventvar",
					"objectClass": "System",
					"sid": 262435625373725,
					"parameters": {
						"variable": "IsPaused"
					},
					"isInverted": true
				},
				{
					"id": "is-touching-object",
					"objectClass": "Touch",
					"sid": 880941299353320,
					"parameters": {
						"object": "Cell"
					}
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "Cell",
					"sid": 461388836626525,
					"parameters": {
						"instance-variable": "IsFixed"
					},
					"isInverted": true
				}
			],
			"actions": [],
			"sid": 307751842151129,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 271695783401985,
							"parameters": {
								"variable": "ActiveTool",
								"comparison": 0,
								"value": "\"Pen\""
							}
						}
					],
					"actions": [
						{
							"callFunction": "TogglePencilMarksVisibility",
							"sid": 896290516905760,
							"parameters": [
								"Cell.UID"
							]
						}
					],
					"sid": 730491129043217,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-animation-frame",
									"objectClass": "Cell",
									"sid": 587717602093228,
									"parameters": {
										"comparison": 0,
										"number": "CurrentSelectedNumber"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation-frame",
									"objectClass": "Cell",
									"sid": 738259515986411,
									"parameters": {
										"frame-number": "0"
									}
								}
							],
							"sid": 479708788880628
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 629160049966445
								}
							],
							"actions": [
								{
									"id": "set-animation-frame",
									"objectClass": "Cell",
									"sid": 190665912450626,
									"parameters": {
										"frame-number": "CurrentSelectedNumber"
									}
								},
								{
									"callFunction": "CheckForWin",
									"sid": 595032880077846
								}
							],
							"sid": 389300612274484
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 314203424604760
						},
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 227499888240472,
							"parameters": {
								"variable": "ActiveTool",
								"comparison": 0,
								"value": "\"Pencil\""
							}
						},
						{
							"id": "compare-animation-frame",
							"objectClass": "Cell",
							"sid": 849217574676498,
							"parameters": {
								"comparison": 0,
								"number": "0"
							}
						}
					],
					"actions": [
						{
							"callFunction": "TogglePencilMark",
							"sid": 641317232973686,
							"parameters": [
								"Cell.UID",
								"CurrentSelectedNumber"
							]
						}
					],
					"sid": 860149473971756
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-nth-touch-end",
					"objectClass": "Touch",
					"sid": 981048511515454,
					"parameters": {
						"touch-number": "0"
					}
				},
				{
					"id": "is-touching-object",
					"objectClass": "Touch",
					"sid": 150510555955437,
					"parameters": {
						"object": "Tool"
					}
				}
			],
			"actions": [],
			"sid": 957086713257903,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Tool",
							"sid": 309973736086920,
							"parameters": {
								"instance-variable": "Type",
								"comparison": 0,
								"value": "ActiveTool"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 604022661498361,
							"parameters": {
								"variable": "ActiveTool",
								"value": "\"Pen\""
							}
						}
					],
					"sid": 346687632685302
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 606902686930859
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 175406554367857,
							"parameters": {
								"variable": "ActiveTool",
								"value": "Tool.Type"
							}
						}
					],
					"sid": 657768509351084
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-all",
							"objectClass": "System",
							"sid": 536399803796499,
							"parameters": {
								"object": "Tool"
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "Tool",
							"sid": 246963784352212,
							"parameters": {
								"animation": "\"Inactive\"",
								"from": "current-frame"
							}
						}
					],
					"sid": 911069487490600
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Tool",
							"sid": 599790577072284,
							"parameters": {
								"instance-variable": "Type",
								"comparison": 0,
								"value": "ActiveTool"
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "Tool",
							"sid": 541658531900338,
							"parameters": {
								"animation": "\"Active\"",
								"from": "current-frame"
							}
						}
					],
					"sid": 660297096053633
				}
			]
		},
		{
			"functionName": "CheckForWin",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 426832834131222,
			"children": [
				{
					"eventType": "variable",
					"name": "CorrectCells",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 589602547142775
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 213754716335734,
							"parameters": {
								"object": "Cell"
							}
						},
						{
							"id": "compare-animation-frame",
							"objectClass": "Cell",
							"sid": 755434237056359,
							"parameters": {
								"comparison": 0,
								"number": "Cell.CorrectValue"
							}
						}
					],
					"actions": [
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 368706550589577,
							"parameters": {
								"variable": "CorrectCells",
								"value": "1"
							}
						}
					],
					"sid": 381977943294822
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 923975824926366,
							"parameters": {
								"variable": "CorrectCells",
								"comparison": 0,
								"value": "Cell.Count"
							}
						}
					],
					"actions": [
						{
							"callFunction": "Win",
							"sid": 644393768498912
						}
					],
					"sid": 564974345028405
				}
			]
		},
		{
			"functionName": "Win",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "set-boolean-eventvar",
					"objectClass": "System",
					"sid": 284551290706459,
					"parameters": {
						"variable": "IsPaused",
						"value": "true"
					}
				},
				{
					"id": "set-layer-visible",
					"objectClass": "System",
					"sid": 185308221819549,
					"parameters": {
						"layer": "\"Win\"",
						"visibility": "visible"
					}
				},
				{
					"id": "add-to-instvar",
					"objectClass": "CellGrid",
					"sid": 241471756021887,
					"parameters": {
						"instance-variable": "CurrentLevel",
						"value": "1"
					}
				}
			],
			"sid": 775656644617257,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-on-layer",
							"objectClass": "InterstitialBackground",
							"sid": 108712124067031,
							"parameters": {
								"layer": "\"Win\""
							}
						}
					],
					"actions": [
						{
							"id": "set-fade-in-time",
							"objectClass": "InterstitialBackground",
							"sid": 807414741390634,
							"behaviorType": "Fade",
							"parameters": {
								"fade-in-time": "1"
							}
						},
						{
							"id": "start-fade",
							"objectClass": "InterstitialBackground",
							"sid": 161496926084732,
							"behaviorType": "Fade"
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 184523253082908,
							"parameters": {
								"seconds": "1.0"
							}
						},
						{
							"id": "set-visible",
							"objectClass": "NextLevelButton",
							"sid": 210160875498065,
							"parameters": {
								"visibility": "visible"
							}
						}
					],
					"sid": 451618207097146
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-tap-object",
					"objectClass": "Touch",
					"sid": 278999726817689,
					"parameters": {
						"object": "NextLevelButton"
					}
				},
				{
					"id": "layer-is-visible",
					"objectClass": "System",
					"sid": 878054384011277,
					"parameters": {
						"layer": "\"Win\""
					}
				},
				{
					"id": "is-visible",
					"objectClass": "NextLevelButton",
					"sid": 870775203149262
				}
			],
			"actions": [],
			"sid": 535752179882000,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "CellGrid",
							"sid": 695883498870712,
							"parameters": {
								"instance-variable": "CurrentLevel",
								"comparison": 4,
								"value": "CellGrid.MaxLevel"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "CellGrid",
							"sid": 620044039427333,
							"parameters": {
								"instance-variable": "CurrentLevel",
								"value": "1"
							}
						},
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 511235431271997,
							"parameters": {
								"layer": "\"Win\"",
								"visibility": "invisible"
							}
						},
						{
							"id": "go-to-layout",
							"objectClass": "System",
							"sid": 800719600053382,
							"parameters": {
								"layout": "Main Menu"
							}
						}
					],
					"sid": 602560392842605
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 248735957849126
						}
					],
					"actions": [
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 388269558168687,
							"parameters": {
								"layer": "\"Win\"",
								"visibility": "invisible"
							}
						},
						{
							"id": "restart-layout",
							"objectClass": "System",
							"sid": 160489579102920
						}
					],
					"sid": 247135849456625
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-tap-object",
					"objectClass": "Touch",
					"sid": 178179804466842,
					"parameters": {
						"object": "MenuButton"
					}
				}
			],
			"actions": [],
			"sid": 648547080847830,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-text",
							"objectClass": "MenuButton",
							"sid": 198061830577108,
							"parameters": {
								"text-to-compare": "\"Rules\"",
								"case-sensitivity": "ignore-case"
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 404187955605136,
							"parameters": {
								"variable": "IsPaused",
								"value": "true"
							}
						},
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 985232675907190,
							"parameters": {
								"layer": "\"Rules\"",
								"visibility": "visible"
							}
						}
					],
					"sid": 258153569361811
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-text",
							"objectClass": "MenuButton",
							"sid": 308536752482127,
							"parameters": {
								"text-to-compare": "\"Return to game\"",
								"case-sensitivity": "ignore-case"
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 849585301294970,
							"parameters": {
								"variable": "IsPaused",
								"value": "false"
							}
						},
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 957894607902739,
							"parameters": {
								"layer": "\"Rules\"",
								"visibility": "invisible"
							}
						}
					],
					"sid": 164179678624492
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-text",
							"objectClass": "MenuButton",
							"sid": 441912591413939,
							"parameters": {
								"text-to-compare": "\"Menu\"",
								"case-sensitivity": "ignore-case"
							}
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 551281388574148,
							"parameters": {
								"variable": "IsPaused"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "go-to-layout",
							"objectClass": "System",
							"sid": 739692134046739,
							"parameters": {
								"layout": "Main Menu"
							}
						}
					],
					"sid": 604525297765412
				}
			]
		}
	],
	"sid": 259221014811680
}